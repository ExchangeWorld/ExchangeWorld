<md-content ng-show="vm.exchangeList.length === 0">
	<div layout="column" layout-align="center center">
		<h2 class="md-display-1">你還沒有任何進入交換階段的物品 ！</h2>
		<p class="md-subhead">立即在探索頁面尋找您喜歡的物品</p>
		<md-button class="md-raised md-accent">快去探索吧</md-button>
	</div>
</md-content>


<md-content ng-show="vm.exchangeList.length !== 0">
	<div layout="row" layout-sm="column">
		<div flex="20" flex-sm="100" layout="column" layout-sm="row" layout-wrap>
			<div class="event-btn first" layout="row" flex-sm="50" ng-repeat="exchange in vm.exchangeList" ng-click="vm.onClickExchange(exchange.eid)">
				<div flex>
					<p class="md-body-1 note">{{ exchange.details.goods[0].name }}</p>
					<p class="md-body-1 note">{{ exchange.details.goods[1].name }}</p>
				</div>
				<div flex layout layout-align="end end">
					<p class="md-caption">與 {{ exchange.with }}</p>
				</div>
			</div>
			<div class="event-btn second" layout="row" flex-sm="50">
				<div flex>
					<p class="md-body-1 note">六上歷史課本</p>
					<p class="md-body-1 note">超營養大雞排</p>
				</div>
				<div flex layout layout-align="end end">
					<p class="md-caption">with kosuke</p>
				</div>
			</div>
		</div>
		<div flex="50" flex-sm="100">
			<!-- title -->
			<div layout layout-align="center center">
			</div>
			<div layout="row" class="info_container">
				<span flex-sm="5"></span>
				<!-- first user item -->
				<div layout="column" flex>
					<div class="item exchange" layout layout-align="center center">
						<img ng-src="{{vm.exchange.goods[0].photo_path[0]}}" />
					</div>
					<div layout="column" style="height:250px; background-color:#B0BEC5;">
						<p class="md-body-1 text-ex">{{ vm.exchange.goods[0].description }}</p>
						<div flex layout layout-align="end end">
							<img class="circle"ng-src="{{vm.exchange.goods[0].user.photo_path}}">
						</div>
					</div>
				</div>
				<!-- exchange icon -->
				<div flex="30" layout="column" layout-align="center center">
					<img src="../../images/icon(48-48).png" height="48" width="48">
					<md-button class="md-accent md-hue-2" ng-click="vm.onClickComplete(vm.exchange.eid)">COMPLETE !</md-button>
					<md-button ng-click="vm.onClickDelete(vm.exchange.eid)">我不爽換！</md-button>
				</div>
				<!-- second user item -->
				<div layout="column" flex>
					<div class="item exchange" layout layout-align="center center">
						<img ng-src="{{vm.exchange.goods[1].photo_path[0]}}" />
					</div>
					<div layout="column" style="height:250px; background-color:#B0BEC5;">
						<p class="md-body-1 text-ex">{{ vm.exchange.goods[1].description }}</p>
						<div flex layout layout-align="end end">
							<img class="circle"ng-src="{{vm.exchange.goods[1].user.photo_path}}">
						</div>
					</div>
				</div>
				<span flex="5"></span>
			</div>
		</div>
		<!-- chat room -->
		<div flex flex-sm layout="row">
			<span flex="5" hide-sm></span>
			<div flex>
				<md-toolbar class="md-primary md-hue-2" layout layout-align="center center">
					<span>聊天</span>
				</md-toolbar>
				<ul class="discussion" scroll='vm.chatroom'>
					<li ng-class="{true: 'self', false: 'other'}[chat.sender_uid === {{ vm.myid }}]" ng-repeat="chat in vm.chatroom">
						<div class="avatar">
							<img ng-show="(chat.sender_uid === {{ vm.myid }})" ng-src="{{vm.exchange.goods[0].user.photo_path}}" />
							<img ng-show="(chat.sender_uid !== {{ vm.myid }})" ng-src="{{vm.exchange.goods[1].user.photo_path}}" />
							<md-tooltip ng-show="(chat.sender_uid === {{ vm.myid }})">{{vm.exchange.goods[0].user.name}}</md-tooltip>
							<md-tooltip ng-show="(chat.sender_uid !== {{ vm.myid }})">{{vm.exchange.goods[1].user.name}}</md-tooltip>
						</div>
						<div class="messages">
							<p class="content">{{ chat.content }}</p>
						</div>
					</li>
				</ul>
				<ul class="discussion input">
					<form ng-submit="vm.onSubmitChat()">
						<md-input-container>
							<label>Write some here...</label>
							<input type="text" ng-model="vm.chatContent" name="text" />
						</md-input-container>
						<input type="submit" id="submit" value="Submit" ng-show="false" />
					</form>
				</ul>
			</div>
		</div>
	</div>
</md-content>
