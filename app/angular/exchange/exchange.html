<md-content resize ng-style="resizeWithOffset(64)" ng-show="vm.exchangeList.length === 0">
	<div layout="column" layout-align="start center" style="height:100%;">
		<h2 class="md-display-2">你沒有正在交換的物品喔！</h2>
		<div layout layout-align="center center" style="height:43%; width:auto;">
			<img class="info_container" src="../../images/emoji.png" style="max-width:100%; max-height: 100%; ">
		</div>
		<p class="md-title info_container">
			立即在探索頁面尋找您喜歡的物品吧
		</p>
		<div style="margin-top: 20px;">
			<md-button class="md-raised md-accent" ng-click="vm.goSeek()">
				<span style="color:#fff;">GO！！</span>
			</md-button>
		</div>
	</div>
</md-content>
<md-content resize ng-style="resizeWithOffset(64)" ng-show="vm.exchangeList.length !== 0">
	<div layout="row" layout-sm="column" style="height:100%;">
		<div flex="15" flex-sm="100" layout="column" layout-sm="row" layout-wrap style="background-color: #CFD8DC;">
			<div class="event-btn " ng-class-odd="'first'" ng-class-even="'second'" layout="row" flex-sm="50" ng-repeat="exchange in vm.exchangeList" ng-click="vm.onClickExchange(exchange.eid)">
				<div flex>
					<p class="md-body-1 note">{{ exchange.details.goods[0].name }}</p>
					<p class="md-body-1 note">{{ exchange.details.goods[1].name }}</p>
				</div>
				<div flex layout layout-align="end end">
					<p class="md-caption">與 {{ exchange.with }}</p>
				</div>
			</div>
		</div>
		<div offset="5" flex="50" flex-sm="100">
			<!-- title -->
			<div layout layout-align="center center">
			</div>
			<div layout="row" class="info_container">
				<span flex-sm="5"></span>
				<!-- first user item -->
				<div layout="column" flex="30">
					<div class="item exchange" layout layout-align="center center">
						<img class="img-exchange" ng-src="{{vm.exchange.goods[0].photo_path[0]}}" ng-click="vm.onClickGoods(vm.exchange.goods[0].gid)" />
					</div>
					<div layout="column" style="height:250px; background-color:#B0BEC5;">
						<p class="md-body-1 text-ex">{{ vm.exchange.goods[0].name}}</p>
						<p class="md-body-1 text-ex">{{ vm.exchange.goods[0].description }}</p>
						<div flex layout layout-align="end end">
							<img class="circle" ng-src="{{vm.exchange.goods[0].user.photo_path}}">
						</div>
					</div>
				</div>
				<!-- exchange icon -->
				<div flex="30" layout="column" layout-align="center center">
					<img src="../../images/icon(48-48).png" height="48" width="48">
					<md-button ng-show="!vm.agreed" class="md-accent md-hue-2" ng-click="vm.onClickComplete($event)">COMPLETE !</md-button>
					<md-button ng-show="!vm.agreed" ng-click="vm.onClickDelete($event, vm.exchange.eid)">我不爽換！</md-button>
					<md-button ng-show="vm.agreed" disabled="true" class="md-accent md-hue-2">您已按過完成</md-button>
				</div>
				<!-- second user item -->
				<div layout="column" flex="30">
					<div class="item exchange" layout layout-align="center center">
						<img class="img-exchange" ng-src="{{vm.exchange.goods[1].photo_path[0]}}" ng-click="vm.onClickGoods(vm.exchange.goods[1].gid)" />
					</div>
					<div layout="column" style="height:250px; background-color:#B0BEC5;">
						<p class="md-body-1 text-ex">{{ vm.exchange.goods[1].name}}</p>
						<p class="md-body-1 text-ex">{{ vm.exchange.goods[1].description }}</p>
						<div flex layout layout-align="end end">
							<img class="circle" ng-src="{{vm.exchange.goods[1].user.photo_path}}">
						</div>
					</div>
				</div>
				<span flex="5"></span>
			</div>
		</div>
		<!-- chat room -->
		<div flex flex-sm layout="row" style="height:100%">
			<span flex="5" hide-sm></span>
			<div flex style="height:100%">
				<md-toolbar class="md-primary md-hue-2" layout layout-align="center center">
					<span>聊天</span>
				</md-toolbar>
				<ul class="discussion" scroll='vm.chatroom'>
					<li ng-class="{true: 'other', false: 'self'}[chat.sender_uid !== {{ vm.myid }}]" ng-repeat="chat in vm.chatroom">
						<div class="avatar" ng-show="(chat.sender_uid !== {{ vm.myid }})">
							<div ng-show="(chat.sender_uid !== {{ vm.myid }})">
								<img ng-show="(chat.sender_uid === {{vm.exchange.goods[0].user.uid}})" ng-src="{{vm.exchange.goods[0].user.photo_path}}" />
								<img ng-show="(chat.sender_uid === {{vm.exchange.goods[1].user.uid}})" ng-src="{{vm.exchange.goods[1].user.photo_path}}" />
							</div>
							<md-tooltip ng-show="(chat.sender_uid === {{ vm.myid }})">
								{{vm.exchange.goods[0].user.name}}
							</md-tooltip>
							<md-tooltip ng-show="(chat.sender_uid !== {{ vm.myid }})">
								{{vm.exchange.goods[1].user.name}}
							</md-tooltip>
						</div>
						<div class="messages">
							<p class="content">{{ chat.content }}</p>
						</div>
					</li>
				</ul>
				<ul class="discussion input">
					<form ng-submit="vm.onSubmitChat()">
						<md-input-container>
							<label>Write some here...</label>
							<input type="text" ng-model="vm.chatContent" name="text" />
						</md-input-container>
						<input type="submit" id="submit" value="Submit" ng-show="false" />
					</form>
				</ul>
			</div>
		</div>
	</div>
</md-content>

