<md-toolbar ng-click="vm.closeMenu()" class="md-whiteframe-z2" style="overflow-x: hidden; overflow-y: hidden;">
	<div class="md-toolbar-tools navbar" style="height: 56px; max-height:56px;">
		<span flex="10" flex-gt-sm="5" hide-xs>
			<md-button ng-click="vm.onClick(0)" style="text-transform: none;" aria-label="logo">
	<div layout layout-align="center center">
					<img src="../../images/logo(48).png" style="height:40px; width:auto;">
				</div>
			</md-button>
		</span>
		<div flex="30" flex-sm="40" flex-xs="0" layout="row" layout-align="center center">
			<md-button flex hide-xs ng-click="vm.onClick(1)" ng-class="{'active': vm.contentIs(1)}">
				<div layout layout-align="center center">
					<span class="toolbar-span">探索</span>
				</div>
			</md-button>
			<md-button flex hide-xs ng-click="vm.onClick(2)" ng-class="{'active': vm.contentIs(2)}">
				<div layout layout-align="center center">
					<span class="toolbar-span">發佈</span>
				</div>
			</md-button>
			<md-button flex hide-xs ng-click="vm.onClick(3)" ng-class="{'active': vm.contentIs(3)}">
				<div layout layout-align="center center">
					<span class="toolbar-span">交換</span>
				</div>
			</md-button>
			<md-button hide-md hide-xs flex ng-click="vm.report()">
				<div layout layout-align="center center">
					<span class="toolbar-span">回報</span>
				</div>
			</md-button>
		</div>
		<span flex-gt-xs="30" flex-sm="15"></span>
		<div hide-xs flex="10" flex-sm="20" flex-offset="10" flex-offset-sm="5" layout="row" layout-align="center center">
			<md-menu flex flex-sm md-offset="-200 61" ng-show="$root.isLoggedIn">
				<md-button ng-click="vm.openMenu($mdOpenMenu, $event)">
					<md-icon class="material-icons">forum</md-icon>
					<p class="notification md-caption" ng-show="vm.unreadMsg !== 0">{{ vm.unreadMsg }}</p>
				</md-button>
				<md-menu-content width="48" style="padding:0; max-width:400px;">
					<md-menu-item style="min-height: 30px; height:30px">
						<p class="md-body-1">訊息</p>
					</md-menu-item>
					<md-divider></md-divider>
					<md-list>
						<md-list-item ng-show="vm.messages.length === 0">
							<div flex>
								<p class="md-body-2 note">目前沒有任何訊息</p>
							</div>
						</md-list-item>
						<md-list-item ng-repeat="msg in vm.messages" ng-style="msg.unread && {'background-color':'#E9F3FF'}" ng-click="vm.onClickMessage(msg, $event)">
							<img flex style="max-height:50px; max-width:50px;" ng-src="{{ msg.members_info[user].photo_path }}"  ng-repeat="user in msg.members" ng-show="user !== $root.user.uid"/>
							<div flex-offset="5" flex>
								<p class="md-subhead note msg-user" ng-repeat="user in msg.members" ng-show="user !== $root.user.uid">
									{{ msg.members_info[user].name }}
								</p>
								<p class="md-body-2 note msg-content">{{msg.last_message}}</p>
								<p class="md-caption note time" style="color: #BCBCBC;">{{ msg.timestamp }}</p>
							</div>
							<md-divider></md-divider>
						</md-list-item>
					</md-list>
					<md-divider></md-divider>
				</md-menu-content>
			</md-menu>
			<md-menu flex md-offset="-200 61" ng-show="$root.isLoggedIn">
				<md-button ng-click="vm.openMenu($mdOpenMenu, $event)">
					<md-icon class="material-icons">notifications</md-icon>
					<p class="notification md-caption" ng-show="vm.unreadNotify !== 0">{{ vm.unreadNotify }}</p>
				</md-button>
				<md-menu-content width="5" style="padding:0; max-width:400px;">
					<md-menu-item style="min-height: 30px; height:30px">
						<p class="md-body-1">通知</p>
					</md-menu-item>
					<md-divider></md-divider>
					<md-list>
						<md-list-item ng-show="vm.notifications.length === 0">
							<div flex>
								<p class="md-body-2 note">目前沒有任何通知</p>
							</div>
						</md-list-item>
						<md-list-item ng-repeat="notice in vm.notifications" ng-style="notice.unread && {'background-color':'#E9F3FF'}" ng-click="vm.onClickNotification(notice)">
							<img flex style="max-height:50px; max-width:50px;" ng-src="{{ notice.user.photo_path }}" />
							<div flex-offset="5" flex>
								<p class="md-body-2 note">{{notice.content}}</p>
								<p class="md-caption note time" style="color: #BCBCBC;">{{ notice.timestamp }}</p>
							</div>
							<md-divider></md-divider>
						</md-list-item>
					</md-list>
				</md-menu-content>
			</md-menu>
		</div>
		<div flex flex-xs="10" flex-offset-xs="80" layout="row" layout-align="center center">
			<md-button ng-hide="$root.isLoggedIn" ng-click="vm.onSignup()">
				<span class="toolbar-span">註冊</span>
			</md-button>
			<md-button ng-hide="$root.isLoggedIn" ng-click="vm.onLogin()">
				<span class="toolbar-span">登入</span>
			</md-button>
			<md-menu flex flex-xs="70" md-offset="-10 64">
				<md-button ng-show="$root.isLoggedIn" ng-click="vm.openMenu($mdOpenMenu, $event)" style="width: 100%;">
					<div ng-show="$root.isLoggedIn" layout="row" layout-align="center center">
						<img hide-xs hide-sm class="img-navbar" ng-src="{{ $root.user.photo_path }}"></img>
						<span hide-xs hide-sm class="nav-user toolbar-span">{{ $root.user.name }}</span>
						<md-icon hide-gt-sm class="material-icons">menu</md-icon>
					</div>
				</md-button>
				<md-menu-content width="3">
					<md-menu-item hide-gt-xs>
						<md-button ng-click="vm.onClick(1)">探索</md-button>
					</md-menu-item>
					<md-menu-item hide-gt-xs>
						<md-button ng-click="vm.onClick(2)">發佈</md-button>
					</md-menu-item>
					<md-menu-item ng-show="$root.isLoggedIn" hide-gt-xs>
						<md-button ng-click="vm.onClick(3)" ng-class="{'active': vm.contentIs(3)}">交換</md-button>
					</md-menu-item>
					<md-menu-item>
						<md-button ng-click="vm.onClick(4)">個人資料</md-button>
					</md-menu-item>
					<md-menu-item hide-gt-xs>
						<md-button ng-click="vm.onClick(5)" ng-show="$root.isLoggedIn">
							訊息
							<div layout layout-align="center center">
								<p class="notification md-caption" ng-show="vm.unreadMsg !== 0">{{ vm.unreadMsg }}</p>
							</div>
						</md-button>
					</md-menu-item>
					<md-menu-item hide-gt-xs>
						<md-button ng-click="vm.onClick(6)" ng-show="$root.isLoggedIn">
							<div layout layout-align="start center">
								通知
								<p class="notification md-caption" ng-show="vm.unreadNotify !== 0">{{ vm.unreadNotify }}</p>
							</div>
						</md-button>
					</md-menu-item>
					<md-menu-item hide-xs hide-xs>
						<a ng-href="https://goo.gl/ObSQOm" target="_blank">粉絲專頁</a>
					</md-menu-item>
					<!-- <md-menu-divider></md-menu-divider> -->
					<md-menu-item ng-show="$root.isLoggedIn">
						<md-button ng-click="vm.onLogout()">登出</md-button>
					</md-menu-item>
				</md-menu-content>
			</md-menu>
		</div>
	</div>
</md-toolbar>
