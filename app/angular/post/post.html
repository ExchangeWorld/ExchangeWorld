<form 
	novalidate
	ng-submit="vm.onSubmit()" 
	resize ng-style="resizeWithOffset(56)" 
	style="overflow-y: auto;"
>
	<md-toolbar class="rounded-corners md-primary md-hue-3 md-whiteframe-z3">
		<div 
			flex 
			class="md-toolbar-tools" 
			layout="row" layout-align="center center"
		>
			<h2 class="md-headline">您所擁有的東西</h2>
		</div>
	</md-toolbar>

	<md-content 
		class="xmas"
		layout-padding layout-margin 
		style="overflow-x: hidden;"
	>	
		<!-- toolbar -->
		<!-- Item Name Input  -->
		<div 
			class="info_container for_input" 
			layout="row" layout-align="start center"
		>
			<div flex="25" flex-sm="50" layout="row" layout-align="center center">
				<i class="material-icons xmas-icon" hide-sm>list</i>
				<md-input-container>
					<label>物品類別</label>
					<md-select 
						ng-model="vm.goodsCategory" 
						ng-change="vm.onCategoryChanged(vm.goodsCategory)"
						aria-label="good.cate"
					>
						<md-option
							style="border-color: green;"
							ng-repeat="cate in vm.availableCategory" 
							value="{{cate.label}}" 
							required
						>
							{{cate.alias}}
						</md-option>

					</md-select>
				</md-input-container>
			</div>

			<md-input-container
				class="xmas-input"
				flex="70" flex-sm="50"
				ng-hide="vm.goodsCategory === 'Christmas'"
			>
				<label>物品名稱</label>
				<input style="border-color: green; color:white;" type="text" ng-model="vm.goodsName" required>
			</md-input-container>
			
			<md-input-container 
				flex="70" flex-sm="50"
				ng-show="vm.goodsCategory === 'Christmas'"
			>
				<label>禮物價位</label>
				<textarea
					style="border-color: green; color:white;"
					type="text"
					ng-model="vm.goodPrice" 
					md-maxlength="20"
					required
				></textarea>
			</md-input-container>

		</div>

		<!-- Description Input -->
		<md-input-container class="info_container for_input">
			<label>物品敘述</label>
			<textarea 
				type="string"
				style="border-color: green; color:white;"
				ng-model="vm.goodsDescriptions" 
				columns="10" md-maxlength="100" 
				required
			></textarea>
		</md-input-container>

		<!-- Insert Photo -->
		<div 
			class="info_container for_input" 
			layout="row" layout-align="start center" 
			style="margin-bottom: 0px;"
		>
			<i class="material-icons xmas-icon">insert_photo</i>
			<p class="xmas-font" hide-sm>選擇一張或多張相片</p>
		</div>
		<div  layout="row" layout-wrap layout-align="start center">
			<div 
				layout layout-align="center center" 
				ng-repeat="preview in vm.imgEncoded" 
				style="background-color: #F5F5F5; border: 1px; position: relative; height:100px; width:100px;" 
				class="hvr-upload" 
				ng-mouseover="vm.removeMode=true" 
				ng-mouseleave="vm.removeMode=false"
			>
				<img 
					class="img-preview" 
					id="img_{{$index}}" 
					data-ng-src="data:image/png;base64,{{preview.base64}}"
				/>
				<div 
					class="cross onpost" 
					ng-show="vm.removeMode" 
					ng-click="vm.removeImg($index)"
				>
					<md-icon class="material-icon">clear</md-icon>
				</div>
			</div>
			<div class="file-field input-field">
				<div 
					class="md-button" 
					style="width:100px; height:100px; border: 2px #757575 dashed"
				>
					<div layout-fill layout layout-align="center center">
						<i class="material-icons xmas-icon" style="font-size:64px;">add_a_photo</i>
						<input 
							type='file' 
							ng-model='vm.imgSelect' 
							base-sixty-four-input 
							accept="image/*" 
							multiple
						/>
					</div>
				</div>
			</div>
		</div>
		<!-- Location -->
		<div class="info_container for_input" layout="row" layout-align="end center">
			<div layout="row" layout-align="center center">
				<div class="md-subhead">
					<strong class="map-font xmas-font">在右邊的地圖定位你的物品吧！</strong>
					<md-tooltip>使用滑鼠定位您的物品！</md-tooltip>
				</div>
				<div class="tri"></div>
			</div>
		</div>
		<!-- Submit button -->
		<div layout="row" style="margin:20px 0;">
			<span flex="70" flex-sm="40"></span>
			<div flex>
				<!-- <input ng-show="!vm.loading" class="md-button md-primary md-raised" type="submit" id="submit" value="發佈物品！" style="width:100px;"></input> -->
				<input ng-show="!vm.loading" type="submit" id="submit" value="發佈物品！" class="xmas-button">
				</a>
			</div>
		</div>
		<div>
		</div>
		</div>
	</md-content>
</form>
<div 
	ng-show="vm.loading" 
	class="md-scroll-mask" 
	style="z-index: 100; background-color: rgba(0, 0, 0, 0.10); bottom:-200px;" 
	aria-hidden="true"
>
	<md-progress-circular 
		class="md-warn md-hue-2" 
		md-mode='indeterminate' 
		style="margin:200px auto;"
	></md-progress-circular>

	<div class="md-scroll-mask-bar"></div>
</div>

