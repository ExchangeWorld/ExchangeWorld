<md-content>
	<div layout="row" class="info_container profile" layout-align="center center">
		<!-- user avatar -->
		<div layout layout-align="center center" ng-style="{'background-image':'url({{ vm.profile.largePic }})','width':'150px' , 'height':'150px', 'background-repeat':'no-repeat', 'background-position':'center','border-radius':'50%','background-size':'contain'}">
		</div>
		<!-- user name & follow button -->
		<div flex="60" flex-sm="45" layout="column">
			<div layout="column">
				<div layout="column" layout-align="center center" class="note username">
					<h4 class="md-headline" style="margin:8px 0;">{{ vm.profile.name }}</h4>
					<div layout="row" layout-align="center center">
						<i class="material-icons heart">favorite</i>
						<a href="#"><span class="md-subhead">{{ vm.myStar.length }}</span></a>
					</div>
				</div>
				<div layout="row" layout-sm="column" layout-align="center center">
					<div layout="column" layout-align="center center" class="note profile">
						<p class="md-title text-ex follow">追隨中</p>
						<a ng-click="vm.onClickFollow(vm.profile.uid, 0)">{{ vm.profile.followings.length }}</a>
					</div>
					<div layout="column" layout-align="center center" class="note profile">
						<p class="md-title text-ex follow">被追蹤</p>
						<a ng-click="vm.onClickFollow(vm.profile.uid, 1)">{{ vm.followerCount }}</a>
					</div>
				</div>
			</div>
			<div offset="10" layout="row" layout-align="center center" style="margin-top: 10px;">
				<md-button flex class="md-raised md-primary" ng-show="!vm.isMe" ng-click="vm.onClickAddFollowing(vm.profile.uid)">
					<div ng-show="!vm.isFollowed">
						<md-icon md-font-set="material-icons">person_add</md-icon>
						<span hide-sm>&nbsp;追隨</span>
					</div>
					<div ng-show="vm.isFollowed">
						<md-icon md-font-set="material-icons">remove_circle</md-icon>
						<span hide-sm>&nbsp;取消追隨</span>
					</div>
				</md-button>
				<md-button flex class="md-raised md-primary" ng-show="!vm.isMe" ng-disabled="!vm.isLoggedIn" ng-click="vm.onClickSendMsg($event, vm.profile.uid)">
					<md-icon md-font-set="material-icons">chat</md-icon>
					<span hide-sm>&nbsp;送訊息</span>
				</md-button>
				<span flex="10"></span>
			</div>
		</div>
	</div>
	<md-divider class="info_container for_input" style="margin-bottom: 0px"></md-divider>
	<!-- tabs for user -->
	<md-tabs md-dynamic-height md-border-bottom md-center-tabs md-swipe-content>
		<md-tab label="願望清單">
			<md-content layout-padding style="margin-top: 10px;">
				<div layout="row" style="padding-top: 4%;">
					<div flex="65" offset="5">
						<form name="userForm">
							<div layout="column">
								<p class="fade md-subhead text-ex edit" ng-hide="vm.isReadOnly">請於下方輸入您想要的物品</p>
								<md-input-container style="margin-top: 10px;">
									<label>您想要的物品</label>
									<textarea ng-model="vm.profile.wishlist" ng-disabled="vm.isReadOnly" style="color:#000;"></textarea>
								</md-input-container>
								<!--<md-input-container>-->
								<!--<label>備註</label>-->
								<!--<textarea ng-model="vm.profile.note" ng-disabled="vm.isReadOnly"></textarea>-->
								<!--</md-input-container>-->
							</div>
						</form>
					</div>
					<!-- edit fab button -->
					<span flex></span>
					<div layout layout-align="center start">
						<md-button class="md-fab md-primary md-hue-2" ng-show="vm.isMe" ng-click="vm.onClickEdit()">
							<md-icon md-font-set="material-icons" ng-show="vm.isMe && vm.isReadOnly">edit</md-icon>
							<md-icon md-font-set="material-icons" ng-hide="vm.isReadOnly">done</md-icon>
							<md-tooltip ng-show="vm.isMe && vm.isReadOnly">編輯願望清單</md-tooltip>
							<md-tooltip ng-hide="vm.isReadOnly">完成</md-tooltip>
						</md-button>
					</div>
					<span flex="5"></span>
				</div>
			</md-content>
		</md-tab>
		<md-tab label="等待交換({{ vm.myGoodsPending.length }})">
			<md-content layout-padding>
				<div flex layout layout-align="center center" ng-show="vm.myGoodsPending.length === 0">
					<img class="img-null" src="../../images/emoji_null.png">
				</div>
				<div layout="column" layout-align="center center">
					<md-card class="md-whiteframe-z3 item-profile" ng-repeat="goods in vm.myGoodsPending" ng-click="vm.onClickGoods(goods.gid)">
						<md-card-content layout="row" layout-sm="column">
							<div flex="40" flex-sm="100" layout layout-align="center center" style=" height:200px; width:auto; background-color:black; border-radius:10px;">
								<img ng-src="{{ goods.photo_path[0] }}" style="max-width: 100%; max-height:100%; cursor:pointer;" />
							</div>
							<div flex layout="column">
								<div layout="row" layout-align="center start">
									<h2 style="margin: 10px 0;">{{ goods.name }}</h2>
								</div>
								<div flex layout layout-align="center center" style="white-space:pre-wrap; padding-left:15px;">
									<p>{{ goods.description }}</p>
								</div>
							</div>
						</md-card-content>
					</md-card>
				</div>
			</md-content>
		</md-tab>
		<md-tab label="已交換({{ vm.myGoodsExchanged.length }})">
			<md-content layout-padding>
				<div flex layout layout-align="center center" ng-show="vm.myGoodsExchanged.length === 0">
					<img class="img-null" src="../../images/emoji_null.png">
				</div>
				<div layout="column" layout-align="center center">
					<md-card class="md-whiteframe-z3 item-profile" ng-repeat="goods in vm.myGoodsExchanged" ng-click="vm.onClickGoods(goods.gid)">
						<md-card-content layout="row" layout-sm="column">
							<div flex="40" flex-sm="100" layout layout-align="center center" style=" height:200px; width:auto; background-color:black; border-radius:10px;">
								<img ng-src="{{ goods.photo_path[0] }}" style="max-width: 100%; max-height:100%; cursor:pointer;" />
							</div>
							<div flex layout="column">
								<div layout="row" layout-align="center start">
									<h2 style="margin: 10px 0;">{{ goods.name }}</h2>
								</div>
								<div flex layout layout-align="center center" style="white-space:pre-wrap; padding-left:15px;">
									<p>{{ goods.description }}</p>
								</div>
								<div layout="row" layout-align="center start">
									<div ng-repeat="n in vm.getNumber(goods.rate) track by $index">
										<img src="../../images/star-on.svg" />
									</div>
									<div ng-repeat="n in vm.getNumber(5 - goods.rate) track by $index">
										<img src="../../images/star-off.svg" />
									</div>
								</div>
							</div>
						</md-card-content>
					</md-card>
				</div>
			</md-content>
		</md-tab>
		<md-tab label="關注的物品({{ vm.myStar.length }})">
			<md-content layout-padding>
				<div flex layout layout-align="center center" ng-show="vm.myStar.length === 0">
					<img class="img-null" src="../../images/emoji_null.png">
				</div>
				<div layout="column" layout-align="center center">
					<md-card class="md-whiteframe-z3 item-profile" ng-repeat="goods in vm.myStar" ng-click="vm.onClickGoods(goods.gid)">
						<md-card-content layout="row" layout-sm="column">
							<div flex="40" flex-sm="100" layout layout-align="center center" style=" height:200px; width:auto; background-color:black; border-radius:10px;">
								<img ng-src="{{ goods.photo_path[0] }}" style="max-width: 100%; max-height:100%; cursor:pointer;" />
							</div>
							<div flex layout="column">
								<div layout="row" layout-align="center start">
									<h2 style="margin: 10px 0;">{{ goods.name }}</h2>
								</div>
								<div flex layout layout-align="center center" style="white-space:pre-wrap; padding-left:15px;">
									<p>{{ goods.description }}</p>
								</div>
							</div>
						</md-card-content>
					</md-card>
				</div>
			</md-content>
		</md-tab>
	</md-tabs>
</md-content>

