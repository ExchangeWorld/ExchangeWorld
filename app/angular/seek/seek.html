<div layout="column" style="height:180px; background-color: #bbe7f0;">
	<!-- search input bar & button -->
	<div layout="row" layout-align="center center" style="padding: 0 20px; ">
		<md-input-container flex class="md-primary wtfsafari" style="padding-top: 12px;margin-bottom: 0;">
			<label style="color:#000; top:-12px;">搜索</label>
			<input ng-model="vm.searchGoodsName" aria-label="goodsName" style="border-bottom-color: #000;">
		</md-input-container>
		<md-button class="seek_btn" ng-click="vm.onSearch({name:vm.searchGoodsName, category:vm.searchGoodsCategory, bound:vm.searchWithBound ? vm.mapBound : '', global:vm.searchWithBound ? 0 : 1})">
			<md-icon md-font-set="material-icons">search</md-icon>
		</md-button>
	</div>
	<div layout="row" layout-align="start center" layout-margin style="padding-left:4px;">
		<md-input-container flex="65" flex-gt-xs="85">
			<label>種類</label>
			<md-select ng-model="vm.searchGoodsCategory" aria-label="cate">
				<md-option ng-repeat="cate in vm.availableCategory" value="{{cate.label}}">
					{{cate.alias}}
				</md-option>
			</md-select>
		</md-input-container>
		<!-- <div flex="85" layout="row" layout-wrap hide-xs>
			<div class="cate-btn" flex="15" layout-margin layout="row" layout-align="center center" ng-repeat="cate in vm.availableCategory">{{cate.alias}}</div>
			
		</div> -->
		<div flex="35" layout layout-align="center center">
			<md-switch class="switch" ng-model="vm.searchWithBound" aria-label="searchWithBound" style="font-size: 10px;">
				<md-tooltip>搜尋視界內物品/搜尋全世界</md-tooltip>
				<span style="color:black;">{{ vm.searchWithBound ? '視界內' : '全域' }}</span>
			</md-switch>
		</div>
	</div>
</div>
<md-content resize ng-style="resizeWithOffset(236)" style="background-color: #EEEEEE;">
	<div class="md-padding"></div>
	<div layout layout-align="center center" ng-show="vm.goods.length === 0 && !vm.loading" style="width:100%;height:90%">
		<img class="img-null onseek" src="../../images/emoji_null.png">
	</div>
	<div class="grid-wrapper">
		<div class="grid__columns">
			<div ng-repeat="card in vm.goods">
				<md-card class="md-whiteframe-z4 item card">
					<a ng-href="/seek/{{card.gid}}" ng-mouseenter="onMouseOver(card.gid)" ng-mouseleave="onMouseOut(card.gid)">
						<!-- <photoslider images="card.photo_path" class="md-card-image"></photoslider> -->
						<img width="300" data-ng-src="{{postfixImageUrl(card.photo_path[0])}}" class="md-card-image" ng-show="card.category !== 'Christmas'">
						<img width="300" src="./../images/Gift(Small).jpg" class="md-card-image" ng-show="card.category === 'Christmas'">
						<h2 class="md-title" style="margin:0; padding: 7px; text-align: center;">
							{{card.name}}
						</h2>
					</a>
					<md-card-content style="padding: 0;">
						<div layout="column">
							<div layout="row" style="margin:0 0 10px 0;">
								<div flex layout="row" layout-align="center center">
									<i ng-click="onClickFavorite($event, card)" class="material-icons heart-seek" style="outline: 0">
										{{ card.favorited ? 'favorite' : 'favorite_border' }}
									</i>
									<img data-ng-src="../../images/icon/{{card.category}}.svg" style="height:24px; width:auto;" />
								</div>
								<div flex layout layout-align="center center">
									<img class="circle hvr-grow" style="border-radius: 50%; cursor: pointer;" data-ng-src="{{card.user.photo_path}}" ng-click="onClickUser($event, card.user.uid)" />
								</div>
							</div>
						</div>
					</md-card-content>
				</md-card>
			</div>
		</div>
</md-content>
<div ng-show="vm.loading" class="md-scroll-mask" style="z-index: 100;" resize ng-style="resizeWithOffset(132)">
	<div layout layout-fill layout-align="center center">
		<md-progress-circular class="md-primary" md-mode='indeterminate'></md-progress-circular>
	</div>
	<div class="md-scroll-mask-bar"></div>
</div>
